<?php

use Drupal\post\Post;
use Drupal\library\Library;

function post_theme()
{
    return [
        'post.index' => [
            'variables' => [ 'data' => null ],
            'template' => 'post.index'
        ],
        'post.list' => [
            'variables' => [ 'data' => null ],
            'template' => 'post.list'
        ],
        'post.edit' => [
            'variables' => [ 'data' => null ],
            'template' => 'post.edit'
        ],
        'post.view' => [
            'variables' => [ 'data' => null ],
            'template' => 'post.view'
        ],
        'post.config' => [
            'variables' => [ 'data' => null ],
            'template' => 'post.config'
        ],
    ];
}

function post_preprocess( &$variables, $hook )
{
    debug_log("post_preprocess($hook) begins");
    Library::parseErrorMessage($variables, 'modules/post/templates/error.html.twig');
    if ( post::isPostPage() ) {
        $variables['#attached']['library'][] = 'post/default';
    }
}
